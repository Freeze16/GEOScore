<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEOScore - –ê–Ω–∞–ª–∏–∑ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü</title>
    <link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üåç GEOScore</h1>
            <p class="subtitle">–ê–Ω–∞–ª–∏–∑ –∏ –æ—Ü–µ–Ω–∫–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü</p>
        </header>

        <main class="main-content">
            <form method="post" action="/analyze" class="analysis-form">
                <div class="form-group">
                    <label for="url">–í–≤–µ–¥–∏—Ç–µ URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:</label>
                    <input
                        type="url"
                        id="url"
                        name="url"
                        value="{{ url or '' }}"
                        placeholder="https://example.com"
                        required
                        class="url-input"
                    >
                </div>
                <button type="submit" class="analyze-btn">
                    üîç –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
                </button>
            </form>

            {% if result %}
                {% if result.success %}
                    <div class="results-section">
                        <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h2>

                        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ -->
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <h3>GEOScore</h3>
                                <div class="score {{ 'high' if result.basic_analysis.geo_score > 70 else 'medium' if result.basic_analysis.geo_score > 40 else 'low' }}">
                                    {{ result.basic_analysis.geo_score }}
                                </div>
                            </div>
                            <div class="metric-card">
                                <h3>SEO Score</h3>
                                <div class="score {{ 'high' if result.basic_analysis.seo_score > 70 else 'medium' if result.basic_analysis.seo_score > 40 else 'low' }}">
                                    {{ result.basic_analysis.seo_score }}
                                </div>
                            </div>
                            <div class="metric-card">
                                <h3>–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h3>
                                <div class="value">{{ result.basic_analysis.content_quality }}</div>
                            </div>
                            <div class="metric-card">
                                <h3>–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏</h3>
                                <div class="value">{{ result.basic_analysis.loading_speed }}</div>
                            </div>
                        </div>

                        <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                        <div class="detailed-results">
                            <h3>–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑</h3>
                            <div class="data-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                                            <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                                            <th>–°—Ç–∞—Ç—É—Å</th>
                                            <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for item in result.detailed_data %}
                                        <tr class="status-{{ item.status|lower }}">
                                            <td>{{ item.id }}</td>
                                            <td>{{ item.metric }}</td>
                                            <td>{{ item.value }}</td>
                                            <td>
                                                <span class="status-badge {{ item.status|lower }}">
                                                    {{ item.status }}
                                                </span>
                                            </td>
                                            <td>{{ item.description }}</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="error-message">
                        <h3>‚ùå –û—à–∏–±–∫–∞</h3>
                        <p>{{ result.error }}</p>
                    </div>
                {% endif %}
            {% endif %}
        </main>

        <footer class="footer">
            <p>&copy; 2025 GEOScore. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </footer>
    </div>
</body>
</html>