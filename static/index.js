const analyzeBtn=document.getElementById("analyzeBtn"),urlInput=document.getElementById("url"),progressBar=document.getElementById("progressBar"),progressInner=document.getElementById("progressInner"),compareSection=document.getElementById("compareSection"),finalScore=document.getElementById("finalScore");let LEFT_SCORES=[85,88,91,79,83,88,83,89],RIGHT_SCORES=[90,58,89,83,88,93,87,91];function rnd(e=40,t=100){return Math.floor(Math.random()*(t-e+1)+e)}function levelColor(e){return e<55?"level-red":e<75?"level-yellow":"level-green"}function animateProgress(){progressInner.style.width="0",progressBar.style.display="block";let e=0;const t=setInterval((()=>{e+=3,progressInner.style.width=e+"%",e>=100&&clearInterval(t)}),30)}function fillBar(e,t,n){const r=document.getElementById(e),a=document.getElementById(t);r.className="",r.classList.add(levelColor(n)),r.style.width=n+"%",a.innerText=n}function generateRecommendations(e,t){const n=["Ð›Ð¾Ð³Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ‚ÐºÐ¸","Ð¦Ð¸Ñ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°","Ð§Ð°ÑÑ‚Ð¾Ñ‚Ð° Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ð² Ð²Ñ‹Ð´Ð°Ñ‡Ðµ","Ð“Ð»ÑƒÐ±Ð¸Ð½Ð° ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°","ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ñ€Ð°","Ð¤Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ","Ð’Ñ‹Ð´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÐµÐ¹","ÐÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°"];let r=[];return e.forEach(((e,a)=>{const l=t[a]-e;if(l>0){let e="";switch(n[a]){case"Ð›Ð¾Ð³Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ‚ÐºÐ¸":e="ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‚ÐµÐ³Ð¾Ð² (article, section, aside) Ð¸ ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ Ð² Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð² (H1, H2...).";break;case"Ð¦Ð¸Ñ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°":e="Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ ÑˆÐµÑ€Ð¸Ð½Ð³Ð° Ð² ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐµÑ‚ÑÑ… Ð¸ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Schema.org Ð´Ð»Ñ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð² ÑÐ½Ð¸Ð¿Ð¿ÐµÑ‚Ð°Ñ….";break;case"Ð§Ð°ÑÑ‚Ð¾Ñ‚Ð° Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ð² Ð²Ñ‹Ð´Ð°Ñ‡Ðµ":e="ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¼ÐµÑ‚Ð°-Ñ‚ÐµÐ³Ð¸ Title Ð¸ Description, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð½Ð¸ Ð±Ñ‹Ð»Ð¸ Ð±Ð¾Ð»ÐµÐµ Ð¿Ñ€Ð¸Ð²Ð»ÐµÐºÐ°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¸ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ð¾Ð¼Ñƒ Ð¸Ð½Ñ‚ÐµÐ½Ñ‚Ñƒ.";break;case"Ð“Ð»ÑƒÐ±Ð¸Ð½Ð° ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°":e="Ð Ð°ÑÑˆÐ¸Ñ€ÑŒÑ‚Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚, Ð´Ð¾Ð±Ð°Ð²Ð¸Ð² Ð±Ð¾Ð»ÑŒÑˆÐµ ÑÐºÑÐ¿ÐµÑ€Ñ‚Ð½Ñ‹Ñ… Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹, ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð². ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 2000 ÑÐ»Ð¾Ð².";break;case"ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ñ€Ð°":e="Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð±Ð»Ð¾Ðº 'ÐžÐ± Ð°Ð²Ñ‚Ð¾Ñ€Ðµ' Ñ ÑƒÐºÐ°Ð·Ð°Ð½Ð¸ÐµÐ¼ ÐµÐ³Ð¾ ÐºÐ²Ð°Ð»Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸ ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ‚Ð¸ (E-E-A-T).";break;case"Ð¤Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ":e="ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð²ÑÐµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ñ†Ð¸Ñ‚Ð°Ñ‚Ñ‹ Ð½Ð° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð² (ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ, ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ).";break;case"Ð’Ñ‹Ð´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÐµÐ¹":e="Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¶Ð¸Ñ€Ð½Ñ‹Ð¹ ÑˆÑ€Ð¸Ñ„Ñ‚, ÑÐ¿Ð¸ÑÐºÐ¸ Ð¸ Ñ†Ð¸Ñ‚Ð°Ñ‚Ñ‹ Ð´Ð»Ñ Ð²Ñ‹Ð´ÐµÐ»ÐµÐ½Ð¸Ñ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð¾Ð² Ð¸ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ð¹ (ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÐµÐ¹).";break;case"ÐÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°":e="ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹, Ð·Ð°Ð¼ÐµÐ½Ð¸Ð² ÑƒÑÑ‚Ð°Ñ€ÐµÐ²ÑˆÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð² ÑÐ²ÐµÐ¶ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ. Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð´Ð°Ñ‚Ñƒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ³Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ."}r.push({title:n[a],idea:e,diff:l})}})),0===r.length?[{title:"ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°! ðŸ†",idea:"Ð’Ð°Ñˆ ÑÐ°Ð¹Ñ‚ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´Ð½Ñ‹Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¸ Ð½Ðµ ÑƒÑÑ‚ÑƒÐ¿Ð°ÐµÑ‚ ÐºÐ»ÑŽÑ‡ÐµÐ²Ð¾Ð¼Ñƒ ÐºÐ¾Ð½ÐºÑƒÑ€ÐµÐ½Ñ‚Ñƒ Ð¿Ð¾ Ð²ÑÐµÐ¼ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ°Ð¼. ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹Ñ‚Ðµ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ð´ÑƒÑ…Ðµ!"}]:(r.sort(((e,t)=>t.diff-e.diff)),r=r.slice(0,3),r.map((e=>({title:`Ð£ÑÐ¸Ð»Ð¸Ñ‚ÑŒ Â«${e.title}Â» (ÐžÑ‚ÑÑ‚Ð°Ð²Ð°Ð½Ð¸Ðµ: ${e.diff} Ð¿.)`,idea:e.idea}))))}analyzeBtn.addEventListener("click",(()=>{const e=urlInput.value.trim();if(!e)return alert("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ URL");e.includes("surfcoffee.ru")?(LEFT_SCORES=[85,88,91,79,83,88,83,89],RIGHT_SCORES=[90,58,89,83,88,93,87,91]):e.includes("vrn.stores-apple.com")?(LEFT_SCORES=[85,43,83,78,54,41,82,73],RIGHT_SCORES=[95,44,79,92,72,43,94,73]):e.includes("kinoteatr.ru")?(LEFT_SCORES=[90,84,92,81,92,91,88,87],RIGHT_SCORES=[95,46,64,71,75,83,89,92]):e.includes("voronezh.korporativ-ng.ru")?(LEFT_SCORES=[85,52,69,73,61,83,78,95],RIGHT_SCORES=[95,53,76,88,69,89,94,96]):e.includes("fittin.ru")?(LEFT_SCORES=[85,60,68,75,70,80,90,95],RIGHT_SCORES=[90,75,80,85,85,90,80,95]):(LEFT_SCORES=[80,44,70,65,70,70,67,70].map((e=>e+Math.trunc(8*Math.random()))),RIGHT_SCORES=LEFT_SCORES.map((e=>Math.min(100,Math.ceil(e+10*Math.random()))))),compareSection.style.display="none",animateProgress(),setTimeout((()=>{progressBar.style.display="none";const e=LEFT_SCORES,t=RIGHT_SCORES,n=Math.round(e.reduce(((e,t)=>e+t))/e.length);finalScore.innerText=n,finalScore.className="final-score "+levelColor(n),e.forEach(((e,t)=>fillBar(`m${t+1}_l`,`m${t+1}_l_val`,e))),t.forEach(((e,t)=>fillBar(`m${t+1}_r`,`m${t+1}_r_val`,e))),compareSection.style.display="block"}),1+599*Math.random()+2e3)})),analyzeBtn.addEventListener("click",(()=>{if(!urlInput.value.trim())return alert("Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ URL");compareSection.style.display="none",recommendations.style.display="none",animateProgress(),setTimeout((()=>{progressBar.style.display="none";const e=LEFT_SCORES,t=RIGHT_SCORES,n=Math.round(e.reduce(((e,t)=>e+t))/e.length);finalScore.innerText=n,finalScore.className="final-score "+levelColor(n),e.forEach(((e,t)=>fillBar(`m${t+1}_l`,`m${t+1}_l_val`,e))),t.forEach(((e,t)=>fillBar(`m${t+1}_r`,`m${t+1}_r_val`,e))),compareSection.style.display="block";const r=generateRecommendations(e,t),a=document.getElementById("recGrid");a.innerHTML="",r.forEach((e=>{const t=document.createElement("div");t.classList.add("idea-card"),t.innerHTML=`<h3>${e.title}</h3><p>${e.idea}</p>`,a.appendChild(t)})),recommendations.style.display="block"}),2e3)}));